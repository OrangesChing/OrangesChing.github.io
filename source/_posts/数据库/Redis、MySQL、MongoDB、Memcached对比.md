---
title: Redis、MySQL、MongoDB、Memcached对比
date: 2020-11-10 15:48:11
tags:
  - 缓存
categories:
  - 数据库
  - 非关系型数据库
  - Redis
---

# 四个数据库特点

## MySQL

- 关系型数据库
- 数据存储在硬盘中，功能强大，主要用于存放持久化数据
- 读取速度较慢
- 以表的形式存放数据
- 支持多种存储引擎
- 支持多线程，充分利用CPU资源
- 提供TCP/IP、ODBC和JDBC等多种数据库连接途径

## MongoDB

- 非关系型数据库,“存储数据”的系统，增删改查可以添加很多条件，就像SQL数据库一样灵活
- 存储在内存中依赖系统虚拟内存管理，可存储大量数据
- 模式自由：可以把不同结构的文档存储在同一个数据库里
- 面向集合的存储：适合存储JSON风格文件的形式
- 完整的索引支持，对任何属性可索引
- 复制和高可用性：多种可选机制
- 不支持事务，靠客户端自身保证

## Redis

- 非关系型数据库，也是缓存数据库
- 数据存储在内存中，其“缓存”的性质远大于其“数据存储“的性质
- 读取速度快，性能极高-读的速度是110000次/s，写的速度是81000次/s
- Key-Value形式存放数据，同时还提供list，set，在set，hash等数据结构的存储
- 单线程模式，性能受限于CPU性能
- 支持数据的持久化，可以将内存中的数据保存在磁盘中，重启的时候可以再次加载进行使用。
- 支持master-slave模式的数据备份
- 所有操作都是原子性的
- 丰富的特性 - 支持publish/subscribe,通知，key过期等等特性。

## Memcached

- 非关系型数据库，缓存数据库
- 支持多核
- 只支持简单key-value数据结构，无丰富数据类型
- 不支持持久化，重启后数据全部丢失
- 不支持数据同步

# MySQL、Redis、Memcache和MongoDB的区别

|          | MySQL        | MongoDB                                            | Memcache                                 | Redis                                            |
| -------- | ------------ | -------------------------------------------------- | ---------------------------------------- | ------------------------------------------------ |
| 类型     | 关系型数据库 | 非关系型数据库                                     | 非关系型数据库                           | 非关系型数据库                                   |
| 存储     | 表：硬盘存储 | 面向集合的存储：基于内存，依赖操作系统VM做内存管理 | Key-value：无虚拟内存                    | Key-value：有虚拟内存                            |
| 多核支持 | 支持         | 支持                                               | 支持                                     | 不支持                                           |
| 数据类型 | 丰富         | 丰富                                               | 单一                                     | 五大数据类型                                     |
| TPS      | 一般         | 较高                                               | 很高                                     | 很高                                             |
| 可用性   | 支持多种机制 | 支持master-slave,replicaset,auto sharding机制      | 无                                       | 主从复制                                         |
| 持久化   | 天然支持     | 采用binlog方式                                     | 不支持                                   | 依赖快照                                         |
| 事务支持 | 支持         | 不支持                                             | 在并发场景下，用cas保证一致性            | 事务支持比较弱，只能保证事务中的每个操作连续执行 |
| 数据分析 | 支持         | 支持                                               | 不支持                                   | 不支持                                           |
| 适用场景 | 结构化查询   | 非结构化数据，海量数据读取                         | 用于在动态系统中减少数据库负载，提升性能 | 数据量较小的性能及运算                           |

# 适用场景

## MongoDB适用于

1. 网站数据：适合实时的插入，更新与查询，并具备网站实时数据存储所需对的复制及高度伸缩性；
2. 缓存：由于性能很高，也适合作为信息基础设施的缓存层，在系统重启之后，搭建的持久化缓存可以避免下层的数据源过载；
3. 大尺寸、低价值的数据也是MongoDB的最佳选择，使用传统的关系数据库存储一些数据时可能会比较贵，再次之前很多程序员往往会选择传统的文件进行存储
4. 高伸缩的场景，非常是个由数十或者数百台服务器组成的数据库
5. 用于对象及json数据的存储，MongoDB的bson数据格式非常适合文档格式化的存储及查询。

## Mysql更加适用于

1. 高度事务性的系统。例如银行或者会计系统，传统的关系型数据库目前还是更实用于需要大量原子性复杂事务的应用程序
2. 传统的商业智能应用，针对特定问题的BI数据库会对产生高度优化的查询方式，对于此类应用，数据仓库可能是更合适的选择

## Redis适用于

1. 用来做缓存-redis的所有数据时放在内存中的
2. 可以在某些特定应用场景下替代传统数据库--比如社交类的应用
3. 在一些大型系统中，巧妙的实现一些特定的功能：session共享、购物车

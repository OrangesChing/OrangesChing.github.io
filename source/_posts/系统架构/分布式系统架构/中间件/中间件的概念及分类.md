---
title: 中间件的概念及分类
date: 2020-09-15 17:52:06
tags:
  - 中间件
categories:
  - 分布式系统架构
  - 中间件
---

# 中间件的概念

中间件就是处于中间的软件。但这种不是从功能，或者特性来定义的概念，而是用位置来定义的名字，就容易被不同的人从不同角度赋予其不同的含义

IDC曾经给中间件下的定义是中间件是一种独立的系统软件或服务程序，分布式应用软件借助这种软件在不同的技术之间共享资源，中间件位于客户机服务器的操作系统之上，管理计算资源和网络通信。

我国学术界一般认可的定义是中间件是指网络环境下处于操作系统、数据库等系统软件和应用软件之间的一种起连接作用的分布式软件，主要解决异构网络环境下分布式应用软件的互连与互操作问题，提供标准接口、协议，屏蔽实现细节，提高应用系统易移植性（北京大学梅宏）。

中科院软件所研究员仲萃豪形象地把中间件定义为平台＋通信。这个定义限定了只有用于分布式系统中的此类软件才能被称为中间件，同时此定义还可以把中间件与支撑软件和实用软件区分开来。

中间件处于操作系统软件与用户的应用软件的中间。中间件在操作系统、网络和数据库之上，应用软件的下层，总的作用是为处于自己上层的应用软件提供运行与开发的环境，帮助用户灵活、高效地开发和集成复杂的应用软件。形象地说就是上下之间的中间。

中间件主要为网络分布式计算环境提供通信服务、交换服务、语义互操作服务等系统之间的协同集成服务，解决系统之间的互连互通问题。形象地说就是所谓左右之间的中间。

# 中间件的分类

根据中间件在软件支撑和架构的定位来看，基本上可以分为三大类产品：应用服务类中间件、应用集成类中间件、业务架构类中间件。

## 应用服务类中间件

　　为应用系统提供一个综合的计算环境和支撑平台，包括**对象请求代理（ORB）中间件、事务监控交易中间件、JAVA应用服务器中间件**等。

　　随着对象技术与分布式计算技术的发展，两者相互结合形成了分布对象计算，并发展为当今软件技术的主流方向。1990年底，对象管理组织OMG首次推出对象管理结构OMA(Object Management Architecture)，对象请求代理（Object Request Broker）是这个模型的核心组件。它的作用在于提供一个通信框架，透明地在异构的分布计算环境中传递对象请求。CORBA规范包括了ORB的所有标准接口，是对象请求代理的典型代表。

　　随着分布计算技术的发展，分布应用系统对大规模的事务处理提出了需求，比如商业活动中大量的关键事务处理。事务处理监控界于Client和Server之间，进行事务管理与协调、负载平衡、失败恢复等，以提高系统的整体性能。它可以被看作是事务处理应用程序的操作系统。这类被称为交易中间件，适用于联机交易处理系统，主要功能是管理分布于不同计算机上的数据的一致性，保障系统处理能力的效率与均衡负载。交易中间件所遵循的主要标准是X/open DTP模型，典型的产品是Tuxedo。

　　JAVA从2.0企业版之后，不仅仅是一种编程语言，而且演变为一个完整的计算环境和企业架构。为JAVA应用提供组件容器，用来构造Internet应用和其它分布式构件应用，是企业实施电子商务的基础设施，这种应用服务器中间件发展到为企业应用提供数据访问、部署、远程对象调用、消息通信、安全服务、监控服务、集群服务等强化应用支撑的服务。使得JAVA应用服务器成为了事实上的应用服务器工业标准。由于它的开放性，使得交易中间件和对象请求代理逐渐融合到应用服务器之中。典型的应用服务器产品包括IBM Websphere Application Server、Oracle Weblogic Application Server和金蝶Apusic Application Server等。

## 应用集成类中间件

　　应用集成类中间件是提供各种不同网络应用系统之间的消息通信、服务集成和数据集成的功能，包括常见的**消息中间件、企业集成EAI、企业服务总线以及相配套的适配器**等。

　　消息中间件指的是利用高效可靠的消息传递机制进行平台无关的数据交流，并基于数据通信来进行分布式系统的集成。通过提供消息传递和消息排队模型，它可在分布环境下扩展进程间的通信，并支持多通讯协议、语言、应用程序、硬件和软件平台，实现应用系统之间的可靠异步消息通信，能够保障数据在复杂的网络中高效、稳定、安全、可靠的传输，并确保传输的数据不错、不重、不漏、不丢。目前流行的消息中间件产品有IBM的MQSeries、 BEA的MessageQ、金蝶Apusic MQ等。

　　企业应用整合，仅指企业内部不同应用系统之间的互连，以期通过应用整合实现数据在多个系统之间的同步和共享。这种类似集线器的架构模式是在基于消息的基础上，引入了前置机-服务器的概念，使用一种集线器/插头（hub-and-spoke）的架构，将消息路由信息的管理和维护从前置机迁移到了服务器上，巧妙的把集成逻辑和业务逻辑分离开来，大大增加了系统弹性。由于前置机和服务器之间不再直接通信，每个前置机只通过消息和服务器之间通信，将复杂的网状结构变成了简单的星型结构。典型的企业应用集成EAI的产品包括Tibico和Informatica等公司产品。

　　随着SOA思想和技术的逐渐成熟，EAI发展到透过业务服务的概念来提供IT的各项基本应用功能，让这些服务可以自由地被排列组合、融会贯通，以便在未来能随时弹性配合新的需求而调整。Web Services是SOA的一种具体实现方式，SOA的世界是由服务提供者（Service Provider）、服务请求者（Service Requester） 以及服务代理者（Service Broker）所组成，目标是将所有具备价值的IT资源，不论是旧的或新的，通通都能够透过Web Services的包装，成为随取即用的IT资产，并可将各种服务快速汇整，开发出组合式应用，达到整合即开发的目的。SOA的架构只是实现和解决了服务模块间调用的互操作问题，为了更好的服务于企业应用，引入了企业服务总线的应用架构（Enterprise Service Bus，ESB）。这一构架是基于消息通信、智能路由、数据转换等技术实现的。ESB提供了一个基于标准的松散应用耦合模式，这就是企业服务总线中间件，是一种综合的企业集成中间件。典型的ESB产品包括IBM Websphere ESB、Oracle公司的Weblogic ESB以及金蝶Apusic ESB等。

## 业务架构类中间件

　　作为共性的凝练，中间件不仅要从底层的技术入手，将共性技术的特征抽象进中间层，还要更多地把目光投向到业务层面上来，根据业务的需要，驱动自身能力的不断演进，即，不断出现的新的业务需要驱动了应用模式和信息系统能力的不断演进，进而要求中间件不断地凝练更多的业务共性，提供针对性支撑机制。近年来，这一需求趋势愈发明显，越来越多的业务和应用模式被不断地抽象进入中间件的层次，如业务流程流、业务模型、业务规则、交互应用等等，其结果是中间件凝练的共性功能越来越多，中间件的业务化和领域化的趋势非常明显。

　　业务架构类中间件包括业务流程、业务管理和业务交互等几个业务领域的中间件。

　　业务流程是处理业务模型的非常重要方法。管理流程与各职能部门和业务单元有密切关系，须藉各部门间的紧密协调，以达到企业运营和管理功能的目标。在业务流程支持方面，从早期的WfMC定义的工作流，到基于服务的业务流程规范BPEL，由业务流程的支撑，逐渐形成了完整的业务流程架构模型，包括流程建模、流程引擎、流程执行、流程监控和流程分析等。有名的业务流程中间件包括基于工作流的IBM Lotus Workflow，基于BPEL的IBM Webshpere Process Server以及同时支持工作流和BPEL的金蝶Apusic BPM等。

　　业务管理就是对业务对象的建模和业务规则的定义、运行和监控的中间件平台。策略管理员和开发人员将业务逻辑捕获为业务规则。使用规则管理器可以将规则轻松地嵌入 Web、现有应用程序和后台办公应用程序。常见的业务管理中间件包括**IBM Websphere ILOG 业务规则管理系统，金蝶BOS**等。

　　业务交互的中间件平台提供组织的合作伙伴、员工和客户通过WEB和移动设备等交互工具，实现基于角色、上下文、操作、位置、偏好和团队协作需求的个性化的用户体验。这种门户服务器软件基于标准Portlet组合的应用程序访问框架，实现用户集成和交互集成，构建灵活、基于 SOA 的应用架构。典型的门户中间件有IBM Websphere Portal Server和金蝶Apusic Portal Server等。

# 常见中间件用例

从广义上讲，中间件涵盖了从 Web 服务器，到身份验证系统，再到消息传递工具等一切内容。以下是现代化开发中一些常见的中间件用例。

| 分类                                                         | 示意图                                                   |
| ------------------------------------------------------------ | -------------------------------------------------------- |
| **新应用开发**<br />中间件可支持各种用例的现代常用运行时环境。开发人员和架构师可以采用以下基本运行时、框架和编程语言，跨平台灵活地开展工作。此外，中间件还可以提供一些常用功能，例如 Web 服务器、单点登录（SSO）、消息传递和内存中缓存。 | ![新应用开发](中间件的概念及分类/新应用开发.png)         |
| **优化现有应用**<br />中间件可帮助开发人员将传统单体式应用转换为云原生应用，从而以更高的性能和更强的可移植性让有价值的工具焕发新生。 | ![优化现有应用](中间件的概念及分类/优化现有应用.png)     |
| **全面集成**<br />中间件集成工具连接了关键的内部和外部系统。转换、连接、组合和企业消息传递等集成功能与 SSO 身份验证相结合，使开发人员可以更轻松地在不同应用之间扩展功能。 | ![全面集成](中间件的概念及分类/全面集成.png)             |
| **应用编程接口（API）**<br />许多中间件服务都是通过API访问的，API 是一组允许应用之间相互通信的工具、定义和协议的集合。正是借助 API，才有可能通过公共层连接完全不同的产品和服务。 | ![应用编程接口](中间件的概念及分类/应用编程接口.png)     |
| **数据流**<br />API 是在应用之间共享数据的方法之一，另一种方法是异步数据流。这种方法是在中间存储中复制数据集，其中的数据可在多个应用之间共享。Apache Kafka是一款常见的用于实时数据流的开源中间件工具。 | ![数据流](中间件的概念及分类/数据流.png)                 |
| **智能业务自动化**<br />中间件可以帮助开发人员、架构师、IT 和业务主管将手动决策自动化。自动化可以改善资源管理和整体效率。 | ![智能业务自动化](中间件的概念及分类/智能业务自动化.png) |

# Java中间件的定义

在Java web开发的演进与进化中，我们对于消息系统，数据库，服务化接口的抽象等，涉及数据分离的过程中，在分离过程中，就会涉及到分离后系统间，数据库间的交互。java中间件就是处理我们数据间交互，连接数据分离后两个系统间的通信，中间件不属于任何一个开发项目，就是让我们对应系统间或者数据库间数据流通无感知。有点像Linux下的管道。

# JAVA中间件应用的基本领域与代表

远程过程调用和对象访问中间件
主要解决分布式环境下应用的互相访问问题，这也是支撑应用服务化功能的基础；
例如：RPC：Remote Process Call（远程过程调用中间件）
消息中间件：解决应用之间的消息传递、解耦、异步的问题。
例如：ActiveMQ 是Apache出品，最流行的，能力强劲的开源消息总线。ActiveMQ 是一个完全支持JMS1.1和J2EE 1.4规范的 JMS Provider实现。

数据访问中间件
主要解决应用访问数据库的共性问题的组件
例如：数据访问中间间就是我们使用数据库指定的数据驱动，例如：ODBC JDBC，以 JDBC 为例，数据库本地维护了一个数据访问中间件，我们在访问数据库的时候，配置的地址其实是直接连接到JDBC这个数据访问中间件，如果我们执行查询数据，或者对数据库的操作都是通过JDBC来连接数据库，然后通过JDBC查询完成数据库以后再返回给我们应用程序。作为中间件，查询过程对于我们是不可知的。



参考：https://blog.csdn.net/u012422446/article/details/51683525

https://www.cnblogs.com/lyrand/p/8138394.html